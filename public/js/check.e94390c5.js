(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["check"],{"83d7":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("div",{staticClass:"login-7 tab-box"},[!e.address&&e.showQR?r("div",{staticStyle:{position:"fixed",top:"0",background:"#000",left:"0",width:"100%",height:"100%","z-index":"999999999"}},[r("b-button",{staticStyle:{position:"absolute",top:"20px",right:"20px","z-index":"999"},attrs:{size:"is-small",type:"is-primary"},on:{click:e.closeScan}},[e._v("X")]),r("qrcode-stream",{on:{decode:e.onDecode}})],1):e._e(),e.address?e._e():r("div",[r("h1",[e._v("Check and identity")]),r("br"),r("p",[e._v("Use this function to scan an identity and verify if it's valid and matches the blockchain signature.")]),r("br"),r("br"),r("b-button",{attrs:{type:"is-primary"},on:{click:e.openScan}},[e._v("SCAN QR CODE")]),r("br"),r("hr"),r("br"),r("b-field",[r("b-upload",{attrs:{"drag-drop":""},on:{input:e.loadWalletFromFile},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}},[r("section",{staticClass:"section"},[r("div",{staticClass:"content has-text-centered"},[r("p",[e._v("Drag and drop your .eid here or click to upload")])])])])],1)],1),e.address?r("div",[r("h1",[e._v("Digital identities of"),r("div",{staticStyle:{"font-size":"14px"}},[e._v(e._s(e.address))])]),r("br"),r("br"),r("p",[e._v("These informations are strictly confidentials, please don't share them with third parties.")]),r("div",{staticStyle:{border:"1px solid #ccc","text-align":"left",color:"#000","border-radius":"5px","margin-top":"20px","font-size":"12px",padding:"15px"}},[r("v-gravatar",{staticStyle:{float:"left",height:"55px","margin-right":"10px"},attrs:{email:e.address}}),r("strong",[e._v("BDCASH ADDRESS")]),r("br"),e._v(" Created at block "),r("strong",[e._v(e._s(e.first_tx.blockheight))]),r("br"),e._v(" "+e._s(e.address.substr(0,6))+"..."+e._s(e.address.substr(-6))),r("br")],1),e._l(e.linked,(function(t){return r("div",{key:t.refID},[r("a",{attrs:{href:"https://proof.bdcashprotocol.com/#/uuid/"+t.uuid,target:"_blank"}},[r("div",{staticStyle:{border:"1px solid #ccc","text-align":"left",color:"#000","border-radius":"5px","margin-top":"20px","font-size":"12px",padding:"15px"},on:{click:function(r){return e.revealID(t.refID)}}},[r("img",{staticStyle:{float:"left",height:"75px","margin-right":"10px"},attrs:{src:"/"+t.refID.toLowerCase()+".png"}}),r("strong",[e._v(e._s(t.refID))]),r("br"),e._v(e._s(t.identity.username)),r("br"),void 0!==t.identity.id?r("span",[e._v("ID: "+e._s(t.identity.id)),r("br")]):e._e(),e._v(" Written at block "),r("strong",[e._v(e._s(t.block))]),r("br"),e._v(" "+e._s(t.data.signature.substr(0,6))+" ... "+e._s(t.data.signature.substr(-6))+" ")])])])}))],2):e._e()])])},n=[],s=r("d557"),i=s["a"],o=(r("8cc4"),r("2877")),d=Object(o["a"])(i,a,n,!1,null,null,null);t["default"]=d.exports},"8cc4":function(e,t,r){"use strict";r("ee60")},d557:function(e,t,r){"use strict";(function(e){var a=r("1da1"),n=(r("96cf"),r("ac1f"),r("5319"),r("d3b7"),r("25f0"),r("e9c4"),r("ddb0"),r("db88")),s=r("bc3a"),i=r("470b");t["a"]={name:"Home",data:function(){return{bdcash:new n(!0),backendURL:"",address:"",showQR:!1,file:"",isWriting:!1,showSmsVerification:!1,showEmailVerification:!1,smsverification:"",emailverification:"",unlockPwd:"",showQRCanvas:!1,provider:"",first_tx:{},email:"",providers:[],phone:"",workingmessage:"",success:"",encrypted_wallet:"",public_qrcode:"",sync_qrcode:"",decrypted_wallet:"",linked:"",updated:"",axios:s,shareURL:"",payload:{identity:{username:"",id:""}}}},mounted:function(){var e=this;e.bdcash.staticnodes=!0},methods:{onDecode:function(t){var r=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var s,o,d,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:s=r,o=t;while(-1!==o.indexOf("*"))o=o.replace("*","/");return d=JSON.parse(i.inflateSync(new e(o,"base64")).toString()),s.address=d.address,n.next=7,s.bdcash.get("/transactions/"+s.address);case 7:c=n.sent,l=c.data.length-1,s.first_tx=c.data[l],s.bdcash.post("/read",{protocol:"I://",address:d.address}).then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i,o,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a in r={},t.data)n=t.data[a],void 0===r[n.refID]&&(r[n.refID]=n);s.linked=[],e.t0=regeneratorRuntime.keys(d);case 4:if((e.t1=e.t0()).done){e.next=19;break}i=e.t1.value,o=d[i],e.t2=regeneratorRuntime.keys(r);case 8:if((e.t3=e.t2()).done){e.next=17;break}return c=e.t3.value,l=r[c],e.next=13,s.bdcash.verifyMessage(d.key,l.data.signature,JSON.stringify(o));case 13:u=e.sent,!1!==u&&u.address===d.address&&(l.identity=o.identity,s.linked.push(l)),e.next=8;break;case 17:e.next=4;break;case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return n.stop()}}),n)})))()},openScan:function(){this.showQR=!0},closeScan:function(){this.showQR=!1},loadWalletFromFile:function(){var t=this,r=t.file,n=new FileReader;n.onload=function(){var r=n.result;t.$buefy.dialog.prompt({message:"Enter archive password",inputAttrs:{type:"password"},trapFocus:!0,onConfirm:function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(s){var o,d,c,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.bdcash.decryptData(r,s);case 2:if(o=n.sent,!1===o){n.next=16;break}d=o;while(-1!==d.indexOf("*"))d=d.replace("*","/");return c=JSON.parse(i.inflateSync(new e(d,"base64")).toString()),t.address=c.address,n.next=10,t.bdcash.get("/transactions/"+t.address);case 10:l=n.sent,u=l.data.length-1,t.first_tx=l.data[u],t.bdcash.post("/read",{protocol:"I://",address:t.address}).then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){var a,n,s,i,o,d,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n in a={},r.data)s=r.data[n],void 0===a[s.refID]&&(a[s.refID]=s);t.linked=[],e.t0=regeneratorRuntime.keys(c);case 4:if((e.t1=e.t0()).done){e.next=19;break}i=e.t1.value,o=c[i],e.t2=regeneratorRuntime.keys(a);case 8:if((e.t3=e.t2()).done){e.next=17;break}return d=e.t3.value,l=a[d],e.next=13,t.bdcash.verifyMessage(c.key,l.data.signature,JSON.stringify(o));case 13:u=e.sent,!1!==u&&u.address===c.address&&(l.identity=o.identity,t.linked.push(l)),e.next=8;break;case 17:e.next=4;break;case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.next=17;break;case 16:t.$buefy.toast.open({message:"Wrong password!",type:"is-danger"});case 17:case"end":return n.stop()}}),n)})));function s(e){return n.apply(this,arguments)}return s}()})},n.readAsText(r)}}}}).call(this,r("b639").Buffer)},ee60:function(e,t,r){}}]);
//# sourceMappingURL=check.e94390c5.js.map